<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-cli.html">cli</a></li><li><a href="module-compile.html">compile</a><ul class='methods'><li data-type='method'><a href="module-compile.html#~compile">compile</a></li></ul></li><li><a href="module-compile_utils_build.html">compile/utils/build</a><ul class='methods'><li data-type='method'><a href="module-compile_utils_build.html#~add">add</a></li><li data-type='method'><a href="module-compile_utils_build.html#~create">create</a></li><li data-type='method'><a href="module-compile_utils_build.html#~init">init</a></li><li data-type='method'><a href="module-compile_utils_build.html#~load">load</a></li></ul></li><li><a href="module-compile_utils_buildDirectory.html">compile/utils/buildDirectory</a><ul class='methods'><li data-type='method'><a href="module-compile_utils_buildDirectory.html#~buildDirectory">buildDirectory</a></li></ul></li><li><a href="module-finish.html">finish</a><ul class='methods'><li data-type='method'><a href="module-finish.html#~finish">finish</a></li></ul></li><li><a href="module-helpers_errors.html">helpers/errors</a><ul class='methods'><li data-type='method'><a href="module-helpers_errors.html#~error">error</a></li><li data-type='method'><a href="module-helpers_errors.html#~getErrorCount">getErrorCount</a></li><li data-type='method'><a href="module-helpers_errors.html#~getErrors">getErrors</a></li><li data-type='method'><a href="module-helpers_errors.html#~getExceptions">getExceptions</a></li><li data-type='method'><a href="module-helpers_errors.html#~getWarningCount">getWarningCount</a></li><li data-type='method'><a href="module-helpers_errors.html#~getWarnings">getWarnings</a></li><li data-type='method'><a href="module-helpers_errors.html#~reset">reset</a></li><li data-type='method'><a href="module-helpers_errors.html#~warning">warning</a></li></ul></li><li><a href="module-helpers_log.html">helpers/log</a><ul class='methods'><li data-type='method'><a href="module-helpers_log.html#~error">error</a></li><li data-type='method'><a href="module-helpers_log.html#~info">info</a></li><li data-type='method'><a href="module-helpers_log.html#~log">log</a></li><li data-type='method'><a href="module-helpers_log.html#~raw">raw</a></li><li data-type='method'><a href="module-helpers_log.html#~warning">warning</a></li></ul></li><li><a href="module-helpers_options.html">helpers/options</a><ul class='methods'><li data-type='method'><a href="module-helpers_options.html#~addAgency">addAgency</a></li><li data-type='method'><a href="module-helpers_options.html#~addAgencyConfig">addAgencyConfig</a></li><li data-type='method'><a href="module-helpers_options.html#~addAgencyNotes">addAgencyNotes</a></li><li data-type='method'><a href="module-helpers_options.html#~agency">agency</a></li><li data-type='method'><a href="module-helpers_options.html#~agencyCount">agencyCount</a></li><li data-type='method'><a href="module-helpers_options.html#~get">get</a></li><li data-type='method'><a href="module-helpers_options.html#~set">set</a></li></ul></li><li><a href="module-run.html">run</a><ul class='methods'><li data-type='method'><a href="module-run.html#~start">start</a></li></ul></li><li><a href="module-update.html">update</a><ul class='methods'><li data-type='method'><a href="module-update.html#~update">update</a></li></ul></li><li><a href="module-update_default.html">update/default</a><ul class='methods'><li data-type='method'><a href="module-update_default.html#~defaultUpdate">defaultUpdate</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#CHECKS">CHECKS</a></li><li><a href="global.html#sanityChecks">sanityChecks</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>Right Track Database Builder</h1><p><strong>node module:</strong> <a href="https://www.npmjs.com/package/right-track-db-build">right-track-db-build</a><br><strong>GitHub repo:</strong> <a href="https://github.com/right-track/right-track-db-build">right-track/right-track-db-build</a></p>
<hr>
<p>This project is used to compile a <strong>Right Track Database</strong>: a SQLite database
containing GTFS transit data and additional Right Track data tables for a
single transit agency.  This database is used in the various <strong>Right Track</strong>
projects, such as the <a href="https://github.com/right-track/right-track-server">right-track-server</a>.</p>
<h3>Installation</h3><p>This project can be installed via <code>npm</code>:</p>
<pre class="prettyprint source"><code>npm install -g right-track-db-build</code></pre><p>When installed globally, <code>npm</code> will link the executable <code>right-track-db-build</code>
into your <code>$PATH</code>.</p>
<h3>Dependencies</h3><p>In order to compile a database for a specific transit agency, a <strong>Right Track
Agency</strong> module (such as <a href="https://github.com/right-track/right-track-agency-mnr">right-track-agency-mnr</a>)
will also need to be installed.  The agency module provides information on
where/how to obtain the agency's GTFS data as well as additional database
compilation instructions.</p>
<p>The agencies are provided to the <code>right-track-db-build</code> script via the
<code>--agency</code> command line flag.</p>
<p><strong>NOTE:</strong> There are no Right Track Agency modules listed as dependencies
in this project's <code>package.json</code> file.  The Agency modules will have
to be installed and referenced manually.</p>
<h3>Usage</h3><p>Example: Update GTFS data and compile a database for Metro North Railroad:</p>
<pre class="prettyprint source"><code>right-track-db-build --agency right-track-agency-mnr</code></pre><p>The command line utility has the following usage:</p>
<pre class="prettyprint source lang-text"><code>Right Track Database Builder
Module: right-track-db-build
Version: 1.0.0
----------------------------
Usage:
  right-track-db-build [options] --agency &lt;declaration> [agency options] ...
options:
  --force|-f       Force a GTFS update and database compilation
  --help|-h        Display this usage information
  --post|-p &lt;file> Define a post-install script to run after update & compilation
  --version|-v     Display the DB Build script version
agency declaration:
  Declare an agency to check for GTFS updates/compile database.  The agency
  can be declared by module name, agency id or file path.  For example:
  --agency right-track-agency-mnr
  --agency mnr
  --agency ./path/to/right-track-agency-mnr
agency options:
  These options have to be proceeded by an agency declaration (--agency &lt;...>)
  --config|-c &lt;file>
     Specify the path to an optional agency configuration file
  --notes|-n &lt;notes>
     Specify agency update notes to be included in the new database</code></pre><h3>Post-Install Script</h3><p>You can provide an additional post-install script via the <code>--post</code> command
line flag.</p>
<p>This is a JavaScript module that exports a single function.  This function takes
the following arguments:</p>
<ul>
<li><code>{Object}</code> Database Build Options</li>
<li><code>{Object[]}</code> List of Exceptions (Warnings &amp; Errors) encountered during the build process</li>
<li><code>{function}</code> Callback function called when the post-install script has finished (takes no arguments)</li>
</ul>
<p>This script can be used to finalize the installation of the new database (ie, copy
the database to a server for distribution), send an alert of an update, etc.</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Dec 12 2017 17:43:14 GMT-0500 (EST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>